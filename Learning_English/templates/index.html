<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Estudo de InglÃªs</title>
  {% load static %}
  <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>
  <div class="container">
    <!-- Ãrea esquerda -->
    <section class="left-panel">
      <h1 class="word-title">PHRASES</h1>

      <!-- Frase 1 -->
      <div class="phrase-block">
        <p class="phrase-label">Phrase 1:</p>
        <div class="phrase">
          <input type="text" id="phrase1" name="phrase1" placeholder="Digite a frase para ouvir">
          <div class="bottons">
            <button class="play-button" id="playPauseBtn1" type="button" onclick="playAudio('phrase1', 'audioPlayer1')" title="Carregar Ã¡udio">&#9835;</button>
            <audio id="audioPlayer1" class="player" controls></audio>
            <!-- <button class="menu-toggle" title="Mostrar explicaÃ§Ãµes">â˜°</button> -->
          </div>
        </div>
      </div>

      <!-- Frase 2 -->
      <div class="phrase-block">
        <p class="phrase-label">Phrase 2:</p>
        <div class="phrase">
          <input type="text" id="phrase2" name="phrase2" title="Digite a frase para ouvir" placeholder="Digite a frase para ouvir">
          <div class="bottons">
            <button class="play-button" id="playPauseBtn2"  type="button" onclick="playAudio('phrase2', 'audioPlayer2')" title="Carregar Ã¡udio">&#9835;</button>
            <audio id="audioPlayer2" class="player" controls></audio>
            <!-- <button class="menu-toggle" title="Mostrar explicaÃ§Ãµes">â˜°</button> -->
          </div>
        </div>
      </div>
      <!-- Link para pagina de adicionar frases -->
       <div class="add_phrases">
        <a href="{% url 'add_word_phrases' %}">Adicionar Frases</a>
       </div>
    </section>

    <!-- Ãrea direita
    <section class="right-panel">
      <div class="explanation">
        <h2>AnÃ¡lise da frase</h2>
        <label>
          <textarea name="text-block" id="text-block-el">ğŸ“˜ Frase: "He brought me a shiny red apple"
Essa frase descreve uma aÃ§Ã£o de entrega ou oferta, com detalhes visuais que ajudam a criar uma imagem clara da maÃ§Ã£. Vamos analisar cada elemento da frase para entender o significado no contexto e explorar outros usos possÃ­veis.

ğŸ‘¨â€ğŸ¦± He
Na frase: He brought me...

Sentido: Pronome pessoal masculino, usado como sujeito da frase. Refere-se Ã  pessoa que realizou a aÃ§Ã£o.

Outros contextos:

He is my brother. â†’ identificaÃ§Ã£o.

He works in finance. â†’ rotina profissional.

ğŸ“¦ brought
Na frase: He brought me...

Sentido: Verbo no passado de bring, que significa trazer algo para alguÃ©m.

ExpressÃµes Ãºteis:

Bring me the book. â†’ pedido direto.

She brought snacks to the party. â†’ aÃ§Ã£o de levar algo para um evento.

Outros sentidos:

Bring up a topic. â†’ iniciar uma conversa sobre algo. He brought up politics during dinner.

Bring down the mood. â†’ diminuir o entusiasmo. That news really brought me down.

ğŸ™‹â€â™‚ï¸ me
Na frase: ...brought me...

Sentido: Pronome objeto, indica que a aÃ§Ã£o foi feita para mim.

Outros contextos:

Give me a minute. â†’ expressÃ£o comum para pedir tempo.

Tell me the truth. â†’ usado para receber informaÃ§Ã£o.

âœ¨ shiny
Na frase: ...a shiny red apple

Sentido: Adjetivo que significa brilhante ou reluzente, descrevendo a aparÃªncia da maÃ§Ã£.

Outros contextos:

Shiny shoes. â†’ sapatos polidos.

Shiny hair. â†’ cabelo com brilho saudÃ¡vel.

Figurado:

Shiny new toy. â†’ pode indicar algo novo e atraente, Ã s vezes com tom irÃ´nico.

ğŸ”´ red
Na frase: ...a shiny red apple

Sentido: Adjetivo que indica a cor da maÃ§Ã£.

Outros contextos:

Red flag. â†’ expressÃ£o para alerta ou sinal de problema. That behavior was a red flag.

Red carpet. â†’ evento especial ou glamouroso.

ğŸ apple
Na frase: ...a shiny red apple

Sentido: Substantivo concreto, refere-se Ã  fruta fÃ­sica.

Outros contextos:

Apple pie. â†’ sobremesa tradicional.

Apple of my eye. â†’ expressÃ£o idiomÃ¡tica para alguÃ©m muito querido.

ğŸ” Resumo da frase completa:
"He brought me a shiny red apple" Descreve uma aÃ§Ã£o gentil ou prÃ¡tica: um homem trouxe uma maÃ§Ã£ com aparÃªncia atraente (shiny red). A frase combina aÃ§Ã£o (brought) com descriÃ§Ã£o visual (shiny, red) e relaÃ§Ã£o interpessoal (me). Ã‰ comum em contextos de narrativa, cotidiano ou atÃ© em histÃ³rias infantis.
          </textarea>
        </label>
      </div>
    </section> -->
  </div>

  <script>
    async function playAudio(inputId, audioId) {
    const phrase = document.getElementById(inputId).value.trim();
    const audio = document.getElementById(audioId);

    if (!phrase) {
      alert("Digite uma frase antes de tocar o Ã¡udio.");
      return;
    }

    try {
      const response = await fetch(`/tts?phrase=${encodeURIComponent(phrase)}`);
      if (!response.ok) {
        throw new Error("Erro ao gerar Ã¡udio");
      }

      const blob = await response.blob();
      const url = URL.createObjectURL(blob);
      audio.src = url;
      audio.play();
    } catch (error) {
      console.error(error);
      alert("NÃ£o foi possÃ­vel gerar o Ã¡udio.");
    }
  }
  

    function toggleAudio(audio, btn) {
      if (audio.paused || audio.ended) {
        audio.play();
        btn.textContent = "â¸";
      } else {
        audio.pause();
        btn.textContent = "â–¶";
      }

      audio.onended = () => {
        btn.textContent = "â–¶";
      };

      audio.onpause = () => {
        btn.textContent = "â–¶";
      };
    }

    function getCookie(name) {
      let cookieValue = null;
      if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
          const cookie = cookies[i].trim();
          if (cookie.substring(0, name.length + 1) === (name + '=')) {
            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
            break;
          }
        }
      }
      return cookieValue;
    }
</script>


</body>
</html>
